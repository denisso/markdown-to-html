## –í–≤–µ–¥–µ–Ω–∏–µ 

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Unified –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Markdown –∏ HTML –ø–æ–∑–≤–æ–ª–∏—Ç –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React. Unified –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ, –∏ –∏–º–µ–µ—Ç –Ω–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Ä–µ–≤–æ–º, –Ω–æ –¥–∞–∂–µ  –±–µ–∑ –Ω–∞–±–æ—Ä–∞ —É—Ç–∏–ª–∏—Ç —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–º–µ—Ç—å –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ javascript. –í—Å–µ —ç—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–æ.
–í —Å—Ç–∞—Ç—å–µ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞ –∏ –¥–µ–º–æ –ø—Ä–æ–µ–∫—Ç.

## –ü—Ä–∏—á–∏–Ω—ã –≤—ã–±–æ—Ä–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Unified 

–í–æ-–ø–µ—Ä–≤—ã—Ö, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ HTML/Markdown –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React:
* [rehype-react](https://github.com/rehypejs/rehype-react) -  –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ HTML
* [remark-react]( https://github.com/remarkjs/remark-react) - –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Markdown 

–í–æ-–≤—Ç–æ—Ä—ã—Ö  –º–Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –Ω–∞–ª–∏—á–∏–µ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–ª–∞–≥–∏–Ω–æ–≤, —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç React [react-markdown](https://github.com/remarkjs/react-markdown) –∫–æ—Ç–æ—Ä—ã–π —è —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö, react-markdown –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É Unified –∏ –ø–ª–∞–≥–∏–Ω—ã rehype-react + remark-react. 

–ï—â–µ –æ–¥–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π —è–≤–ª—è–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–∞—è –∏ –Ω–µ–±–æ–ª—å—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [Unified](https://github.com/unifiedjs/unified). 
–û—Å—Ç–∞–≤–ª—é —Å—Å—ã–ª–∫—É –Ω–∞  —Ö–æ—Ä–æ—à—É—é —Å—Ç–∞—Ç—å—é  [–ö–∞–∫ —è Markdown –ø–∞—Ä—Å–µ—Ä –≤—ã–±–∏—Ä–∞–ª]( https://habr.com/ru/post/672266/) –≤ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Unified —Ç–æ–∂–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ —Ç–∞–∫ –ø–æ–¥—Ä–æ–±–Ω–æ.

## –¢–µ—Ä–º–∏–Ω—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

* Markdown - –æ–±–ª–µ–≥—á—ë–Ω–Ω—ã–π —è–∑—ã–∫ —Ä–∞–∑–º–µ—Ç–∫–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å —Ü–µ–ª—å—é –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ—Å—Ç–æ–º —Ç–µ–∫—Å—Ç–µ, —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –µ–≥–æ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–æ–º, –∏ –ø—Ä–∏–≥–æ–¥–Ω—ã–π –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ —è–∑—ã–∫–∏ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π. –°—Å—ã–ª–∫–∏ –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è [markdownguide.org]( https://www.markdownguide.org/getting-started/)  –∏ [Wiki](https://ru.wikipedia.org/wiki/Markdown)
* HTML - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —è–∑—ã–∫ –≥–∏–ø–µ—Ä—Ç–µ–∫—Å—Ç–æ–≤–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –°—Å—ã–ª–∫–∏ –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è [Wiki](https://ru.wikipedia.org/wiki/HTML) –∏ [HTML Living Standard](https://html.spec.whatwg.org/multipage/)
* AST(Abstract syntax tree) - —ç—Ç–æ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ–∫—Å—Ç–∞, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –Ω–∞ —è–∑—ã–∫–µ javascript. –î–∞–ª–µ–µ –≤ —Ç–µ–∫—Å—Ç–µ –±—É–¥—É –ø–∏—Å–∞—Ç—å AST –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏. –°—Å—ã–ª–∫–∏ –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è [Wiki](https://en.wikipedia.org/wiki/Abstract_syntax_tree)
* [Unified](https://github.com/unifiedjs/unified#overview) -  –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å–º–æ—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª processor API) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é AST. –≠–∫–æ—Å–∏—Å—Ç–µ–º—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–ª–∞–≥–∏–Ω—ã, —Ä–∞–±–æ—Ç–∞—é—Ç —Å AST. 
* [–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤](https://github.com/unifiedjs/unified#ecosystems) - –∫–∞–∂–¥–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–∞–∫–æ–≥–æ-—Ç–æ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤:
  * [rehype](https://github.com/rehypejs/rehype/blob/main/doc/plugins.md) - HTML
  * [remark](https://github.com/remarkjs/remark/blob/main/doc/plugins.md) - markdown
* [–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä / Processor](https://github.com/unifiedjs/unified#processor) - —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ unified(), remark(), rehype() –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ processor(). –°–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≥–æ—Ç–æ–≤—ã–π –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—é —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ processor().use(). –ö–æ–Ω—Ç–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤.

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞

–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –¥–µ—Ä–µ–≤—å—è - —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–ª–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞. –≠—Ç–∏ –¥–µ—Ä–µ–≤—å—è —è–≤–ª—è—é—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.

–í —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞: [specification syntax tree]( https://github.com/syntax-tree/unist)

–ù–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–º–∏ –¥–µ—Ä–µ–≤—å—è–º–∏
* [hast](https://github.com/syntax-tree/hast#list-of-utilities) - HTML abstract syntax tree
* [mdast](https://github.com/syntax-tree/mdast#list-of-utilities) - Markdown abstract syntax tree
* [nlcst](https://github.com/syntax-tree/nlcst#list-of-utilities) - Natural language syntax tree
* [xast](https://github.com/syntax-tree/xast#list-of-utilities) - XML abstract syntax tree

### Node - —É–∑–ª—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞

–û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Node –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://github.com/syntax-tree/unist#nodes)

–≤ –æ—Ç–ª–∞–¥—á–∏–∫–µ –º—ã –ø–æ–ª—É—á–∏–º —Ç–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å–∞–Ω–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ 
```ts
export type Node = Partial<{
    type: string; // for example 'element'
    tagName: string; // for example "p"
    properties: { [key: string]: any }; //
    children: Array<Node>;
    value: string;
    position: { // –ø–æ–ª–æ–∂–µ–Ω–∏–µ —ç—Ç–æ–≥–æ —É–∑–ª–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞
        start: { line: number; column: number; offset: number }; // { line: 1, column: 1, offset: 0 }
        end: { line: number; column: number; offset: number };
    };
}>;
```

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤:
* **type** - –∏–∑ –º–æ–µ–≥–æ –æ–ø—ã—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è: 
  * **root** - –∫–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞
  * **text** –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –±–ª–æ–∫–∞ 
  * **element** - html —ç–ª–µ–º–µ–Ω—Ç
* **tagName**  –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É —Ç–∏–ø–∞ element, —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.
* **value –µ—Å—Ç—å** —Ç–æ–ª—å–∫–æ —É text
* **properties**  –µ—Å—Ç—å —É type element —ç—Ç–æ –∞—Ç—Ä–∏–±—É—Ç—ã html —ç–ª–µ–º–µ–Ω—Ç–∞
* **children** —ç—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
* **position** —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ —É–∑–ª–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ –¥–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ—á–µ–∫ –∑–∞–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–º position.end.line - position.start.line.

### –ü—Ä–∏–º–µ—Ä AST

–°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è markdown –≤ html 

```js
    result = unified()
        .use(remarkParse)
        .use(remarkRehype)
        .use(parseElements)
        .processSync("## Netlify");
```

–ú—ã –ø–æ–ª—É—á–∏–º —Ç–∞–∫–æ–µ –¥–µ—Ä–µ–≤–æ

```
[
  {
    type: "element",
    tagName: "h2",
    properties: {
    },
    children: [
      {
        type: "text",
        value: "Netlify",
        position: {
          start: {
            line: 1,
            column: 4,
            offset: 3,
          },
          end: {
            line: 1,
            column: 11,
            offset: 10,
          },
        },
      },
    ],
    position: {
      start: {
        line: 1,
        column: 1,
        offset: 0,
      },
      end: {
        line: 1,
        column: 11,
        offset: 10,
      },
    },
  },
]
```

## –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ unified¬†–∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞

[unified](https://github.com/unifiedjs/unified)¬†- –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é AST –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Ä–µ–≤—å–µ–≤ —Å –ø–æ–º–æ—â—å—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤. [–°–∞–π—Ç –ø—Ä–æ–µ–∫—Ç–∞](https://unifiedjs.com/)

–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç [—Ç—Ä–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞–¥–∏–∏](https://github.com/unifiedjs/unified#overview): 
* –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ html –∏–ª–∏ markdown –≤ AST - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–ª–∞–≥–∏–Ω Parser
* —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ AST - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–ª–∞–≥–∏–Ω Transformer
* –∫–æ–º–ø–∏–ª—è—Ü–∏—è AST –≤ –∫–æ–Ω—Ç–µ–Ω—Ç html –∏–ª–∏ markdown - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–ª–∞–≥–∏–Ω Compiler

–ü–ª–∞–≥–∏–Ω—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Processor API, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–∞–ª–µ–µ.

 ### –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ rehype –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å html
[rehype](https://github.com/rehypejs/rehype/tree/main) - –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞–±–æ—Ç—ã —Å html.
–ü–ª–∞–≥–∏–Ω—ã parser –∏ compiler:
* [rehype-parse](https://github.com/rehypejs/rehype/tree/main) - —Ä–∞–∑–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–æ–∫—É HTML –≤ AST
* [rehype-stringify](https://github.com/rehypejs/rehype/tree/main) - –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç AST –≤ —Å—Ç—Ä–æ–∫—É HTML
* [rehype-react](https://github.com/rehypejs/rehype-react) - –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç AST HTML –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React

–ü–ª–∞–≥–∏–Ω—ã Transformers, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ —Å—Ç–∞—Ç—å–µ:
* [@mapbox/rehype-prism](https://github.com/mapbox/rehype-prism) - –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PrismJS 
* [rehype-sanitize](https://github.com/rehypejs/rehype-sanitize) - –¥–µ–ª–∞–µ—Ç AST –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏, –≤ –¥–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è html –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã [rehype](https://github.com/rehypejs/rehype/blob/main/doc/plugins.md)

### –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ remark –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å markdown
[remark](https://github.com/remarkjs/remark/tree/main)¬†- –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞–±–æ—Ç—ã —Å markdown.
–ü–ª–∞–≥–∏–Ω—ã parser –∏ compiler:
* [remark-parse](https://github.com/remarkjs/remark/tree/main) - —Ä–∞–∑–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–æ–∫—É markdown –≤ AST
* [remark-stringify](https://github.com/remarkjs/remark/tree/main)- –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç AST –≤ —Å—Ç—Ä–æ–∫—É markdown

–ü–ª–∞–≥–∏–Ω—ã Transformers, –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö:
* [remark-rehype](https://github.com/remarkjs/remark-rehype) - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç AST Markdown –≤ AST HTML, –ø–æ—Å–ª–µ —ç—Ç–æ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è rehype

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã [remark]( https://github.com/remarkjs/remark/blob/main/doc/plugins.md)

### –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
[Titus (wroom)](https://github.com/wooorm) - –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ä–µ–≤—å–µ–≤ [unist](https://github.com/syntax-tree/unist), –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Unified –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤ remark –∏ rehype, —Å–¥–µ–ª–∞–ª 4100 –≤–∫–ª–∞–¥–∞ (–Ω–µ –∑–Ω–∞—é –∫–∞–∫ –µ—â–µ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ [contribution](https://github.blog/2013-01-07-introducing-contributions/#repositories-contributed-to)) –Ω–∞ github –∑–∞ 2022 –≥–æ–¥, –Ω–æ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ —Å—Ç–æ–ª—å–∫–æ —Å–∞–º–æ —á–∏—Å–ª–æ, –∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫ –ø–æ—á—Ç–∏ –Ω–µ—Ç –¥–Ω–µ–π –±–µ–∑ –≤–∫–ª–∞–¥–æ–≤. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –∫–∞–∫ –æ–Ω —É—Å–ø–µ–≤–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–æ–∫.
![wroom activity](https://res.cloudinary.com/mrdramm/image/upload/v1671603431/site0001/articles/20221221-unified/wroom-activity_ii72g6.jpg)

## Processor API - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Unified
[–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã](https://github.com/unifiedjs/unified#processor) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–æ–≤, –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –ö–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–æ–º–Ω—é —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö —Ñ–∞–∑ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ AST, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ AST –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ –∫–æ–Ω—Ç–µ–Ω—Ç.

–û–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –º–µ—Ç–æ–¥–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞:
* processor() - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, –≥–æ—Ç–æ–≤—ã–π –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤.
* processor.use(plugin[, options]) - –ø–æ–¥–∫–ª—é—á–∞—é—Ç –ø–ª–∞–≥–∏–Ω, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ —á–∞—Å—Ç—å—é —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
* processor.parse(file) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –ø–ª–∞–≥–∏–Ω–æ–º parser, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤ AST
* processor.stringify(tree[, file]) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –ø–ª–∞–≥–∏–Ω–æ–º compiler, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å AST –≤ –∫–æ–Ω—Ç–µ–Ω—Ç
* processor.run(tree[, file][, done]) - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ AST —Å –ø–æ–º–æ—â—å—é –ø–ª–∞–≥–∏–Ω–æ–≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
* processor.runSync(tree[, file]) - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ AST —Å –ø–æ–º–æ—â—å—é –ø–ª–∞–≥–∏–Ω–æ–≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
* processor.process(file[, done]) - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –ø–ª–∞–≥–∏–Ω–æ–≤: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ AST > —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è AST  >  –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä AST –≤ –∫–æ–Ω—Ç–µ–Ω—Ç
* processor.processSync(file) - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –ø–ª–∞–≥–∏–Ω–æ–≤: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ AST > —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è AST  >  –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä AST –≤ –∫–æ–Ω—Ç–µ–Ω—Ç

–¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞:
```js
    import {unified} from 'unified'
    import remarkParse from 'remark-parse'
    import remarkRehype from 'remark-rehype'
    import rehypeDocument from 'rehype-document'
    import rehypeFormat from 'rehype-format'
    import rehypeStringify from 'rehype-stringify'

    const file = await unified()
      .use(remarkParse)
      .use(remarkRehype)
      .use(rehypeDocument, {title: 'üëãüåç'})
      .use(rehypeFormat)
      .use(rehypeStringify)
      .process('# Hello world!')

    console.log(String(file))
```
–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```
# Hello world!
```

–í—ã—Ö–æ–¥–Ω—ã–µ

```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>üëãüåç</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <h1>Hello world!</h1>
  </body>
</html>
```

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤.

### –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π —Å–ø–æ—Å–æ–±—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ use

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://github.com/unifiedjs/unified#example-1)

```js
unified()
  // Plugin with options:
  .use(pluginA, {x: true, y: true})
  // Passing the same plugin again merges 
  // configuration (to `{x: true, y: false, z: true}`):
  .use(pluginA, {y: false, z: true})
  // Plugins:
  .use([pluginB, pluginC])
  // Two plugins, the second with options:
  .use([pluginD, [pluginE, {}]])
  // Preset with plugins and settings:
  .use({plugins: [pluginF, [pluginG, {}]], settings: {position: false}})
  // Settings only:
  .use({settings: {position: false}})
```
### –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ run
[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://github.com/unifiedjs/unified#example-4)

```js
import {unified} from 'unified'
import remarkReferenceLinks from 'remark-reference-links'
import {u} from 'unist-builder'

const tree = u('root', [
  u('paragraph', [
    u('link', {href: 'https://example.com'}, [u('text', 'Example Domain')])
  ])
])
const changedTree = await unified().use(remarkReferenceLinks).run(tree)
```

### –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ markdown —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –≤ html c —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è–º–∏

```js
const processor = unified()
  // markdown –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ AST
  .use(remarkParse) 
  // markdown AST –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ HTML AST –∏ –¥–∞–ª–µ–µ –Ω—É–∂–Ω–æ 
  // –ø–æ–¥–∫–ª—é—á–∞—Ç—å –ø–ª–∞–≥–∏–Ω—ã —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã Rehype
  .use(remarkRehype)  
  // –¥–µ–ª–∞–µ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ HTML AST –¥–æ–±–∞–≤–ª—è–µ–º 
  // –∏–ª–∏ –º–µ–Ω—è–µ–º html —Ç–µ–≥ title —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º üëã
  .use(rehypeDocument, {title: 'üëã'})
  // –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ —Å—Ç—Ä–æ–∫—É –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞  
  .use(rehypeStringify)
  // –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  // –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ process –∏–ª–∏ processSync
```

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –ø–ª–∞–≥–∏–Ω–∞
–ò–∑ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–≥–æ —Ä–∞–Ω–µ–µ –¥–æ–ª–∂–Ω–æ —Å—Ç–∞—Ç—å –ø–æ–Ω—è—Ç–Ω–æ: –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, –ø–æ–¥–∫–ª—é—á–∞—Ç—å –ø–ª–∞–≥–∏–Ω—ã, –∫–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–∞ –¥–µ—Ä–µ–≤–∞ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –¥–µ—Ä–µ–≤–µ –≤ —Ü–µ–ª–æ–º. 
–¢–µ–ø–µ—Ä—å –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–π –ø–ª–∞–≥–∏–Ω. –ú—ã –±—É–¥–µ–º –ø–∏—Å–∞—Ç—å Tranformer –ø–ª–∞–≥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç AST –¥–µ—Ä–µ–≤–æ, –∞ —Ç–æ—á–Ω–µ–µ –≤–Ω–æ—Å–∏—Ç –Ω–µ–±–æ–ª—å—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ html —Ç–µ–≥ "a" –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–∞—Ä—É —Å–≤–æ–π—Å—Ç–≤ target="_blank" –∏ rel="noreferrer" –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ href –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "#". –ù–∞ —Å–∞–π—Ç–µ [unifiedjs.com –µ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://unifiedjs.com/learn/guide/create-a-plugin/) –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–ø–∏—Å–∞–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã retext –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º. –û–Ω–∏ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏ –Ω–∞ rehype –ø–ª–∞–≥–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤ —Å—Ç–∞—Ç—å–µ, –æ—Ç–ª–∏—á–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö —Ç–∏–ø–æ–≤ –≤ —É–∑–ª–∞—Ö. —Ç–∞–∫–∂–µ —Ç–∞–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–∞ [visit –∏–∑ –ø–∞–∫–µ—Ç–∞ unist-util-visit](https://github.com/syntax-tree/unist-util-visit), –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –∏—Å–∫–∞—Ç—å —É–∑–ª—ã –¥–µ—Ä–µ–≤–∞ –ø–æ —à–∞–±–ª–æ–Ω—É.

–®–∞–±–ª–æ–Ω –ø–ª–∞–≥–∏–Ω–∞

```js
export default function retextSentenceSpacing(options) {
  return (tree, file) => {
  }
}
```

options - –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ –Ω–∞–ø–∏—Å–∞–ª–∏ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä, –Ω–æ –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ 
tree —ç—Ç–æ –∫–æ—Ä–Ω–µ–≤–æ–π —É–∑–µ–ª –¥–µ—Ä–µ–≤–∞ –≤ rehype —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å type root

—Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∞–±–æ—Ç—É –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞ —Ä–∞–±–æ—Ç—Ç—ã —Å —Åc—ã–ª–∫–∞–º–∏ a[href], –µ—Å–ª–∏ —ç—Ç–æ –≤–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞ –±—É–¥–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ target="_blank" rel="noreferrer" 

```js
import type { Node } from "../unified.types";
import { visit, Node as NodeVisitor } from "unist-util-visit";

export const rehypeAhref = () => {
    return (tree: NodeVisitor) => {
        try {
            visit(tree, { tagName: "a" }, (node: Node) => {
                if(!node?.properties){
                    node.properties = {}
                }
                const props = node.properties
                if(props.href[0] !== "#"){
                    props.target = "_blank";
                    props.rel = "noreferrer";
                }   
            });
        } catch (err) {}
    };
};
```

–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É

```js
unified()
    .use(remarkParse)
    .use(remarkRehype)
    .use(rehypeAhref)
    .use(rehypeStringify)
    .processSync("[Google](https://google.ru)")
    .toString()
```

—Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å

```html
<a href="https://google.ru" target="_blank" rel="noreferrer">Google</a>
```

## –î–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–î–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ. –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä Markdown, –∫–æ–¥ markdown –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≥–¥–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è Markdown –≤ HTML, –∫–æ–¥ HTML –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç, –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ html –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React.
*  [Github —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/denisso/markdown-to-html)
*  [online demo](https://markdown-to-html-denisso.vercel.app/)

###  –°—Ç–µ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
*  [React](https://reactjs.org/) - –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—É—é –≤ –Ω–∞—Å—Ç–æ—è—â–∏–π –º–æ–º–µ–Ω—Ç —è –æ—á–µ–Ω—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é. 
*  [NextJS](https://nextjs.org/) - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è React, –µ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://nextjs.org/docs/basic-features/pages), –≤ –¥–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ NextJS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å api –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∫–ª–∏–µ–Ω—Ç–∞, NextJS —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è React. –¢–∞–∫ —á—Ç–æ –¥–ª—è –º–µ–Ω—è –≤—ã–±–æ—Ä —ç—Ç–æ–≥–æ —Å—Ç–µ–∫–∞ –±—ã–ª –æ—á–µ–≤–∏–¥–Ω—ã–º.
*  [Vercel](https://vercel.com/about) - –ø–ª–æ—â–∞–¥–∫–∞ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –¥–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
*  [SimpleMDE](https://simplemde.com/) - –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä markdown. –í —ç—Ç–æ–º –¥–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è React –ø–∞–∫–µ—Ç react-simplemde-editor.
	–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ unified, —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ rehype –∏ remark
	–î–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [refractor](https://github.com/wooorm/refractor) + [prismjs](https://prismjs.com/)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–ª–∏–µ–Ω—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–º. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ unified –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ React, –∏—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å—Ä–µ–¥–µ NodeJS –∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–º js, —Ç–∞–∫ –∫–∞–∫ —è –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑—É—é React —Ç–æ –¥–ª—è –º–µ–Ω—è NextJS —ç—Ç–æ —É–¥–æ–±–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü–ª–∞–≥–∏–Ω—ã, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
* –ü–ª–∞–≥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ html —ç–ª–µ–º–µ–Ω—Ç—É a[href] –∞—Ç—Ä–∏–±—É—Ç  target="_blank" –∏ rel="noreferrer" –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–µ —Å—Å—ã–ª–∞–µ—Ç –Ω–∞ id —ç—Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. [–°—Å—ã–ª–∫–∞ –Ω–∞ github](https://github.com/denisso/markdown-to-html/blob/main/lib/plugins/rehypeAhref.ts)
* –ü–ª–∞–≥–∏–Ω –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PismJS –∏ refractor, —ç—Ç–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–≥–∏–Ω [rehype-prismjs](https://github.com/mapbox/rehype-prism). [–°—Å—ã–ª–∫–∞ –Ω–∞ github](https://github.com/denisso/markdown-to-html/blob/main/lib/plugins/rehypePrismCustom.ts)
* –ü–ª–∞–≥–∏–Ω —Å–æ–∑–¥–∞–Ω–∏—è –±–ª–æ–∫–∞ –∫–æ–¥–∞ —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π —Å—Ç—Ä–æ–∫ –∏ –∫–Ω–æ–ø–∫–æ–π –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ [–°—Å—ã–ª–∫–∞ –Ω–∞ github](https://github.com/denisso/markdown-to-html/blob/main/lib/plugins/rehypeCodeBlock.ts)

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è AST HTML –≤ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–ª–∞–≥–∏–Ω rehype-sanitize –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º–æ–µ AST html –±—ã–ª–æ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã —Å–ª—É—á–∞–π–Ω–æ –∑–∞–±—É–¥–µ–º –æ–±–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–∫—É 

```
<button
className="codecopy"
onClick={handlerCopy}
ref={refBtnCopy}
>
{textBthCopy}
</button>
```

–≤ [Fenced Code Block](https://www.markdownguide.org/extended-syntax/#fenced-code-blocks) —Ç–æ –ø–ª–∞–≥–∏–Ω —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ rehype-react –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥,  –∫–∞–∫ JSX –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç button —É –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç props ref –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ –∏ –ø–æ–ª—É—á–∏–º Unhandled Runtime Error

> Error: Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here:¬†reactjs.org/link/strict-mode-string-ref

—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª rehype-sanitize —á—Ç–æ–±—ã –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ html —Ç–µ–≥–∏ –∏ —Ç–æ–ª—å–∫–æ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –∞—Ç—Ä–∏–±—É—Ç–æ–≤. –ü–ª–∞–≥–∏–Ω rehype-sanitize –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∏–∑–º–µ–Ω–∏–≤ –Ω–∞—á–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª < –Ω–∞ escape —Å–∏–º–≤–æ–ª html &lt, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Ç–∞–∫–∏–º:

```
<p>&lt;button
className="codecopy"
onClick={handlerCopy}
ref={refBtnCopy}</p>
```

–ø–æ—Ç–µ—Ä—è–ª–∏ —á–∞—Å—Ç—å —Å—Ç—Ä–æ–∫–∏, –Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –º—ã —ç—Ç–æ –∑–∞–º–µ—Ç–∏–º –∏ –∏—Å–ø—Ä–∞–≤–∏–ª, —ç—Ç–æ –ª—É—á—à–µ, —á–µ–º –ø–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É.

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω [rehype-react]( https://github.com/rehypejs/rehype-react) –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ html –≤ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –í –¥–µ–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É Copy.
![button copy](https://res.cloudinary.com/mrdramm/image/upload/v1671603431/site0001/articles/20221221-unified/btn-copy_aoavdl.jpg)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç React

```js
const CodeSection = ({
    className,
    children,
}: JSX.IntrinsicElements["section"]) => {
    const refCodeBlock = React.useRef<HTMLElement | null>(null);
    const refCodeBox = React.useRef<HTMLElement | null>(null);
    const refBtnCopy = React.useRef<HTMLButtonElement | null>(null);
    const [copyBtn, setCopyBtn] = React.useState(false);
    const [textBthCopy, setTextBtnCopy] = React.useState("Copy");
    const handlerCopy = () => {
        const range = document.createRange();
        range.selectNodeContents(refCodeBox.current as Node);
        const buffer = range.valueOf().toString();
        navigator.clipboard
            .writeText(buffer)
            .then(() => {
                setTextBtnCopy("Copied");
                refBtnCopy.current?.classList.add("copied");
                setTimeout(() => {
                    refBtnCopy.current?.classList.remove("copied");
                    setTextBtnCopy("Copy");
                }, 2000);
            })
            .catch(() => {
                setTextBtnCopy("Copy error");
                refBtnCopy.current?.classList.add("error");
                setTimeout(() => {
                    refBtnCopy.current?.classList.remove("error");
                    setTextBtnCopy("Copy");
                }, 2000);
            });
    };
    return (
        <section
            className={className}
            ref={(node: HTMLElement) => {
                if (node && refCodeBlock.current === null) {
                    refCodeBlock.current = node;
                    refCodeBox.current = node.querySelector(".codebox");
                    if (refCodeBox.current) {
                        setCopyBtn(true);
                    }
                }
            }}
        >
            {copyBtn && (
                <button
                    className="codecopy"
                    onClick={handlerCopy}
                    ref={refBtnCopy}
                >
                    {textBthCopy}
                </button>
            )}

            {children}
        </section>
    );
};
```

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```js
.use(rehypeReact, {
    createElement: React.createElement,
    Fragment: React.Fragment,
    components: {
        section: CodeSection,
    },
})
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —è –∏–∑–ª–æ–∂–∏–ª —Å–≤–æ–π –æ–ø—ã—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Unified –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º markdown –∏ html, –ø–æ–∫–∞–∑–∞–ª –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–º –¥–µ—Ä–µ–≤–æ–º, —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Å–≤–æ–π –ø–ª–∞–≥–∏–Ω—ã. –ü–æ –º–æ–µ–º—É –º–Ω–µ–Ω–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Unified –æ–±–ª–∞–¥–∞–µ—Ç –±–æ–ª—å—à–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º –∏ –±–æ–ª—å—à–∏–º –Ω–∞–±–æ—Ä–æ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. –ú–Ω–µ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –≤–∞—à–µ –º–Ω–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –ø–æ–∫–∞ —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –º–Ω–µ –Ω–∞ –ø–æ—á—Ç—É, —Ç–µ–ª–µ–≥—Ä–∞–º, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É —Å–∞–π—Ç–∞.

–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö:
* [habr](https://habr.com/ru/post/707004/)